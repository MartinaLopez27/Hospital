import streamlit as st
import pandas as pd
import numpy as np

import streamlit as st
import pandas as pd

# Cargar los archivos CSV en DataFrames
df1 = pd.read_csv('Diuresis.csv', encoding='ISO-8859-1', sep=';', decimal=',')
df2 = pd.read_csv('Perf.csv', encoding='ISO-8859-1', sep=';', decimal=',')
df3 = pd.read_csv('Datos grafica.csv', encoding='ISO-8859-1', sep=';', decimal=',')
df4 = pd.read_csv('Datos laboratorio.csv', encoding='ISO-8859-1', sep=';', decimal=',')
df5 = pd.read_csv('peso_data_patients.csv', encoding='ISO-8859-1', sep=';', decimal=',')

# Obtener todos los IDs de los cuatro DataFrames y agregarlos a una lista
ids = sorted(list(set(df1['idPaciente']).union(set(df2['idPaciente'])).union(set(df3['IdPaciente'])).union(set(df4['IdPaciente']))))
# Unir los cuatro DataFrames en uno solo
df = pd.concat([df1, df2, df3, df4], ignore_index=True)
# Eliminar filas duplicadas basadas en la columna "ID"
#df = df.drop_duplicates(subset=['IdPaciente'])

# Crear desplegable con los IDs de los pacientes
patient_id = st.selectbox('Selecciona un paciente:', ids)

# Filtrar los datos del paciente seleccionado
patient_data = df[df['idPaciente'] == patient_id]
patient_data = patient_data.drop_duplicates(subset=['idPaciente', 'FechaIngresoUnidad'])

# Mostrar la información del paciente
st.write(f'ID del paciente: {patient_id}')
st.write(f'Fecha de ingreso: {patient_data["FechaIngresoUnidad"].iloc[0]}')
st.write(f'Edad: {df5[df5["idPaciente"]==patient_id]["edad"].iloc[0]} años')
st.write(f'Género: {df5[df5["idPaciente"]==patient_id]["genero"].iloc[0]}')
